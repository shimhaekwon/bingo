<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>로또 분석 (Front-only, Top/Bottom Layout)</title>

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css" />

  <!-- 데이터 (전역: window.numChosen = [[round,n1..n6,bonus], ...]) -->
  <script src="data.js"></script>

  <!-- 앱 로직 -->
  <script defer src="script.js"></script>
</head>
<body>
  <!-- ================= 헤더 ================= -->
  <header class="app-header">
    <h1>로또 분석 (Front-only)</h1>
  </header>

  <!-- ================= 상단: 좌(실데이터+라디오) / 우(Type 미리보기) ================= -->
  <section id="topSplit" class="split" aria-label="상단 실데이터 + 타입 미리보기">
    <!-- 좌측: 실제 data 영역 (라디오로 적용회차 선택) -->
    <section id="dataViewer" class="data-viewer" aria-label="회차 목록(클릭/라디오로 분석)">
      <div class="data-viewer-header">
        <h3>실제 데이터 (최근 60개)</h3>
        <small class="muted">라디오 선택 = 적용회차 지정</small>
      </div>
      <div id="dataViewerInner"><!-- script.js에서 표 렌더/라디오 바인딩 --></div>
      <!-- 호환성 유지용(숨김): 적용회차 입력 -->
      <input id="applyRound" type="number" hidden />
    </section>

    <!-- 우측: Type 미리보기 영역 (확인용) -->
    <section id="typePreview" class="type-preview" aria-label="유형 미리보기(확인용)">
      <div class="type-preview-bar">
        <label>
          Type 미리보기(확인용)
          <select id="previewType">
            <option value="range3" selected>03그룹(연속)</option>
            <option value="range5">05그룹(연속)</option>
            <option value="range6">06그룹(연속)</option>
            <option value="range9">09그룹(연속)</option>
            <option value="range10">10그룹(연속)</option>
            <option value="range15">15그룹(연속)</option>
            <option value="mod3">03나누기</option>
            <option value="mod9">09나누기</option>
            <option value="mod15">15나누기</option>
            <option value="endDigit10">10구간(끝수)</option>
            <option value="single45">45숫자(개별)</option>
          </select>
        </label>
        <small class="muted">※ 분석/예상 계산은 항상 11개 타입 전부 사용</small>
      </div>
      <section id="typePanel" class="type-panel" aria-label="유형별 이격(확인용)">
        <!-- script.js에서 선택된 미리보기 타입 1종만 카드로 렌더 -->
      </section>
    </section>
  </section>

  <!-- ================= 중단: 검색/설정(조건) ================= -->
  <section id="controlsBar" class="controls mid-controls" aria-label="검색/설정 조건">
    <label class="control">
      차수(W)
      <select id="totalRounds">
        <option value="8">8</option>
        <option value="15">15</option>
        <option value="30" selected>30</option>
        <option value="45">45</option>
        <option value="90">90</option>
        <option value="180">180</option>
      </select>
    </label>

    <label class="control">
      후보 개수(k)
      <input id="candidateCount" type="number" min="6" max="20" value="12" />
    </label>

    <label class="control">
      미노출 개수
      <input id="nonExposeCount" type="number" min="6" max="20" value="10" />
    </label>

    <div class="control fixed">
      세트 수
      <div class="fixed-chip">5 (고정)</div>
    </div>

    <div class="control fixed">
      세트 크기
      <div class="fixed-chip">6 (고정)</div>
    </div>

    <div class="buttons">
      <button id="runBtn" type="button">계산하기</button>
      <button id="clearLogBtn" type="button">안내/로그 지우기</button>
    </div>

    <small class="hint">
      적용 회차는 상단 실데이터 표의 라디오 선택으로 지정됩니다. 모든 계산은 브라우저에서 수행됩니다(서버 없음).
    </small>
  </section>

  <!-- ================= 하단: 분석/예상 데이터 ================= -->
  <section class="summary" id="summary" aria-live="polite"></section>

  <section id="tablesBlock" aria-label="빈도/적용/후보/미노출">
    <section id="freqCandWrap" class="table-wrap" aria-label="메인 테이블">
      <div id="table"><!-- script.js에서 하나의 표로 렌더 --></div>
    </section>
  </section>

  <section id="exposureSets" class="sets" aria-label="예상 노출 세트">
    <!-- script.js에서 세트 라인 렌더 -->
  </section>

  <!-- 레전드 + 진행/안내 -->
  <section class="legend">
    <div class="legend-item"><span class="legend-vline"></span> 번호대(5칸) 경계선</div>
    <div class="legend-item"><span class="legend-hover"></span> 열 hover 강조</div>
  </section>

  <section id="progress" class="progress" aria-live="polite"></section>

  <!-- ================= 푸터 ================= -->
  <footer class="app-footer">
    <small>
      적용 회차 직전 데이터만 집계합니다(보너스 제외).<br/>
      예측 세트는 softmax 확률 기반 무복원 샘플링으로 구성합니다.
    </small>
  </footer>
</body>
</html>